@*
 * Copyright 2019 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import iht.utils.OverviewHelper._
@import iht.utils._
@import iht.views.html._
@import uk.gov.hmrc.play.partials.FormPartialRetriever
@import uk.gov.hmrc.play.views.html.helpers.form
@import iht.models.RegistrationDetails
@import iht.views.html.application._
@import iht.utils.OverviewHelper.Section
@import iht.constants.IhtProperties._

@(registrationDetails:RegistrationDetails,
seqRows:Seq[Section],
returnToCall: Option[Call],
returnToMessagesKey: String
)(implicit request:Request[_], messages: Messages, ihtFormPartialRetriever: FormPartialRetriever)


@deceasedName = @{DeceasedInfoHelper.getDeceasedNameOrDefaultString(registrationDetails, true)}

@iht_main_template_application(
    title = Messages("iht.estateReport.assets.insurancePolicies"),
    browserTitle = Some(Messages("iht.estateReport.assets.insurancePolicies")),
    isFullWidth=false
)(generic_overview(
    registrationDetails = registrationDetails,
    seqRows = seqRows,
    messagesFileSectionLine1 = Messages(
                                    "page.iht.application.assets.insurance.policies.overview.guidance1",
                                    deceasedName
                                ),
    messagesFileSectionLine2 = "page.iht.application.assets.insurance.policies.overview.guidance2",
    returnToCall = returnToCall,
    returnToMessagesKey = returnToMessagesKey,
    showStatus = false,
    returnHash = AppSectionInsurancePolicyID,
    messagesFileBullets = Seq(
        Messages("page.iht.application.assets.insurance.policies.overview.guidance.bullet1"),
        Messages("page.iht.application.assets.insurance.policies.overview.guidance.bullet2"),
        Messages("page.iht.application.assets.insurance.policies.overview.guidance.bullet3"),
        Messages("page.iht.application.assets.insurance.policies.overview.guidance.bullet4", deceasedName)
    )
  )
)
